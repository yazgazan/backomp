language: go
go:
    - 1.9

before_install:
    - go get -u golang.org/x/tools/cmd/cover
    - go get -u github.com/mattn/goveralls
    - go get -u github.com/alecthomas/gometalinter
    - gometalinter --install --update

script:
    - go build
    - gometalinter -e '_test.go' ./...
    - go test -v ./...
    - go test -v -covermode=count -coverprofile=coverage.out .
    - go test -v -covermode=count -coverprofile=coverage.out ./har
    - $GOPATH/bin/goveralls -coverprofile=coverage.out -service=travis-ci -repotoken $COVERALLS_TOKEN

env:
    global:
        secure: "VlFAY/DpNsbUx6gLQ9Z1N4I/57+UMw2ZGzc2/pFtBJSw99QAQBOht6DfpcTIYuvM9puJr78nfkNkRhVjhKvwy+DqyT6FConAe70Fymt8vMUU1nGaL+1K+oJMU/NV6qj2vJGIEJayUUYsOroSzVU1P3HJkXYkJLn9/aR8MCcNgTALd31jIW1US4wbbfeIvabSnOllYmE9+9dbJRY1EpJ9t6HxnLy4R8gQURJYK5hDcilD4cJ7ZI5TPeSGc4D2J9JBQimM41NDN6/PyeJrux2RTpt/OaN8RcdZZmQkRWKrxBqB3V6rn7jkgpf3UIW7uyIOsxa64K/KGGf1SBsG0KPieiBq2GZAmtCcBwslGWQmdhE+oESy/wktTbCUfZE0CAn5HNFi1Wothz749Zwut0YLSG+4YvRFJMzXd6m2XrZI304LLDcWvaSo401m5+cdLj8Vw7x9I6q7iIZwbjlYaHKc9A7xbY+sFtGpFMUOmwxmIwXIh90Pn8JREhz77C+AoT622EdexaOv3nxF7S17CIldxx/uyyfjDGpRY/Xz+taDDW/OCa+n8lpgByCWdqZ4k+FAplDDuez9e98lGWvmeTLsDVgcl5oM85ECaDEoP5CTkLenZpEHgk3fDqCobVNiHm1HEEb2bXAXP8I1JMS/+h9BSsFBnnESkq4RuL4xx6GAEeI="

